extends ../../layouts/defaults.pug
include ../../mixins/filterButton.pug
include ../../mixins/search.pug
include ../../mixins/pagination.pug
include ../../mixins/form-change-multi.pug
include ../../mixins/alert.pug
include ../../mixins/table-tree.pug

block main
  +alert-success()
  +alert-error()
  .card-header <h1>Danh sách tài khoản<h1>
  
  .card-body
    .row 
      .col-8 
        h4 Thêm mới Tài khoản:
      .col-4
        a.btn.btn-outline-success(href=`${prefitAdmin}/accounts/create`) Thêm mới

  table(class="table table-hover table-sm")
    thead
      tr
        th STT
        th Avatar
        th Họ tên
        th Phân quyền
        th Email
        th Trạng thái
        th Hành động
    tbody
      each item, index in records
        tr
          td #{index + 1}
          td
            img(
              src=item.avatar
              alt=item.fullName
              width="100px"
              height="auto"
            )
          td #{item.fullName}
          td #{item.role.title}
          td #{item.email}
          td
            if item.status === "active"
              a(
                href="javascript:;"
                class="badge badge-success"
                data-status="active"
              ) Hoạt động
            else
              a(
                href="javascript:;"
                class="badge badge-secondary"
                data-status="inactive"
              ) Dừng hoạt động
          td
            a(
              class="btn btn-secondary btn-sm"
              href=`${prefitAdmin}/accounts/detail/${item.id}`
            ) Chi tiết
            a(
              class="btn btn-warning btn-sm ml-1"
              href=`${prefitAdmin}/accounts/edit/${item.id}`
            ) Sửa
            button(
              class="btn btn-danger btn-sm ml-1"
              type="button"
            ) Xóa


  script(src="/admin/js/create.js") 
  script(src="/admin/js/products.js")  